---
# file: roles/console/tasks/sh.yml
- name: Install bash completion directory
  file:
    dest: "{{ homedir }}/.local/share/bash-completion"
    state: directory
    owner: "{{ user }}"
    group: "{{ group }}"
    mode: 0755
  become: no
  tags:
    - homedir

- name: Install Bourne Again Shell startup files
  copy:
    dest: "{{ homedir }}/.{{ item }}"
    src: "{{ item }}"
    owner: "{{ user }}"
    group: "{{ group }}"
    mode: 0644
  become: no
  with_items:
    - bashrc
    - bash_completion
    - bash_profile
    - inputrc
    - profile
    - shrc
  tags:
    - homedir

- name: Install zsh configuration directory
  copy:
    dest: "{{ homedir }}"
    src: ".zsh"
    owner: "{{ user }}"
    group: "{{ group }}"
    mode: 0644
  become: no
  tags:
    - homedir

- name: Install zsh startup scripts
  copy:
    dest: "{{ homedir }}/.{{ item }}"
    src: "{{ item }}"
    owner: "{{ user }}"
    group: "{{ group }}"
    mode: 0644
  become: no
  with_items:
    - zshrc
    - zprofile
    - zlogin
  tags:
    - homedir
